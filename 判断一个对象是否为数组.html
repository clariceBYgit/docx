<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        //判断一个对象是否为数组的方法 共7种
        // 不能用typeof进行判断
        var obj1 = { eid: 1, ename: "coco" }, obj2 = new Date(), obj3 = [1, 2, 3];
        //若其中一个对象强行更换其父对象
        obj2.__proto__ = Array.prototype;
        // 判断其父对象的：共三种
        //1. 用__proto_获得子对象的父级原型对象，再数组的父级原型对象进行比较（Array.prototype）是否为true
        console.log(obj1.__proto__ == Array.prototype,
            obj2.__proto__ == Array.prototype,
            obj3.__proto__ == Array.prototype
        )
        //2.因为__proto__可能会被浏览器禁用，因此有函数Object.getPrototyprOf(child)
        console.log(
            Object.getPrototypeOf(obj1) == Array.prototype,
            Object.getPrototypeOf(obj2) == Array.prototype,
            Object.getPrototypeOf(obj3) == Array.prototype
        )
        //3.函数father.isPrototypeOf(child)
        console.log(
            Array.prototype.isPrototypeOf(obj1),
            Array.prototype.isPrototypeOf(obj2),
            Array.prototype.isPrototypeOf(obj3)
        )

        //判断子对象的构造函数（妈妈） ：
        //4.用父级原型对象的constructor属性（半隐藏）进行比较 child.constructor==Array
        console.log(
            obj1.constructor == Array,
            obj2.constructor == Array,
            obj3.constructor == Array,
        )
        //5.用child instanceof 构造函数 => 布尔值
        // 实例
        console.log(
            obj1 instanceof Array,
            obj2 instanceof Array,
            obj3 instanceof Array,
        )
        //注意：若其中一个对象强行更换其父对象
        //共2种方式
        //6.对象中 class 的隐藏内置属性，不能用 .class访问 [object Array]
        // ↓ ↓
        // 引用类型对象 对象的class属性 
        // .call() 可让任何一个对象 ，抢到原本不属于它的任何一个函数 
        console.log(
            Object.prototype.toString.call(obj1) == "[object Array]",
            Object.prototype.toString.call(obj2) == "[object Array]",
            Object.prototype.toString.call(obj3) == "[object Array]",
        )

        //7.Es5新增的一个专门的判断一个对象是否为数组 Array.isArray(child)
        console.log(
            Array.isArray(obj1),
            Array.isArray(obj2),
            Array.isArray(obj3)
        )
    </script>
</body>

</html>